
package puzzle;

import java.lang.reflect.*;
import java.util.ArrayList;
import java.util.HashMap; 
import java.util.Map; 

public class Puzzle {
    
    static int p = 24;
    private static int[] arrayNums;
    static boolean b;
    static ArrayList formula = new ArrayList();
    String form;
    
                
    public void setNums() {
        int[] n = new int[4];
        n[0]= 4;
        n[1]= 1;
        n[2]= 8;
        n[3]= 7;
        arrayNums = n;
    }
            
    public static void main(String[] args) 
            throws IllegalAccessException, IllegalArgumentException, InvocationTargetException {
        Puzzle s = new Puzzle();
        s.setNums();
        s.canBeEqualTo24(arrayNums);
        
        if (b==true){
            System.out.println(b);
            formula.forEach((num) -> {
                System.out.println(num+"="+p);
            });
            
        } else {
            System.out.println(b + " из данного набора чисел невозможно составить выражение, равное  " + p);
        }
                
    }
    
    public boolean canBeEqualTo24(int[] nums) 
    throws IllegalAccessException, IllegalArgumentException, InvocationTargetException {
        
        float[] r = new float[4];
            r[0] =  nums[0]; 
            r[1] =  nums[1];
            r[2] =  nums[2];
            r[3] =  nums[3];
            
        Sequence seq = new Sequence();       
        Method[] m = Sequence.class.getMethods();
               
        for (int i=0; i<m.length; i++) {
            float[] result = (float[]) m[i].invoke(seq, r);
            String f = this.all(result);
            if (f!=null){
                b=true;
                formula.add(f);
                break;
            } else {
                b = false;
                //break;
            }
            
        }
        
        return b;
      
    }
 
    public String all (float[]a){
        
        Map<Integer, String> hashMap = new HashMap<>();
        
        
        
        // a-combination x_a[1]_a[2]_a[3] 64
        hashMap.put(Math.round(a[0]+a[1]+a[2]+a[3]), String.format("%.0f+%.0f+%.0f+%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+a[1]+a[2]-a[3]), String.format("%.0f+%.0f+%.0f-%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+a[1]+a[2]*a[3]), String.format("%.0f+%.0f+%.0f*%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]+a[2]/a[3]), String.format("%.0f+%.0f+%.0f/%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]-a[2]+a[3]), String.format("%.0f+%.0f-%.0f+%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]-a[2]-a[3]), String.format("%.0f+%.0f-%.0f-%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]-a[2]*a[3]), String.format("%.0f+%.0f-%.0f*%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]-a[2]/a[3]), String.format("%.0f+%.0f-%.0f/%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]*a[2]+a[3]), String.format("%.0f+%.0f*%.0f+%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]*a[2]-a[3]), String.format("%.0f+%.0f*%.0f-%.0f", a[0],a[1],a[2],a[3]));  
        hashMap.put(Math.round(a[0]+a[1]*a[2]*a[3]), String.format("%.0f+%.0f*%.0f*%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+a[1]*a[2]/a[3]), String.format("%.0f+%.0f*%.0f/%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+a[1]/a[2]+a[3]), String.format("%.0f+%.0f/%.0f+%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+a[1]/a[2]-a[3]), String.format("%.0f+%.0f/%.0f-%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+a[1]/a[2]*a[3]), String.format("%.0f+%.0f/%.0f*%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]/a[2]/a[3]), String.format("%.0f+%.0f/%.0f/%.0f", a[0],a[1],a[2],a[3]));
        
        hashMap.put(Math.round(a[0]-a[1]+a[2]+a[3]), String.format("%.0f-%.0f+%.0f+%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]+a[2]-a[3]), String.format("%.0f-%.0f+%.0f-%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]-a[1]+a[2]*a[3]), String.format("%.0f-%.0f+%.0f*%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]+a[2]/a[3]), String.format("%.0f-%.0f+%.0f/%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]-a[2]+a[3]), String.format("%.0f-%.0f-%.0f+%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]-a[2]-a[3]), String.format("%.0f-%.0f-%.0f-%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]-a[1]-a[2]*a[3]), String.format("%.0f-%.0f-%.0f*%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]-a[2]/a[3]), String.format("%.0f-%.0f-%.0f/%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]*a[2]+a[3]), String.format("%.0f-%.0f*%.0f+%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]*a[2]-a[3]), String.format("%.0f-%.0f*%.0f-%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]*a[2]*a[3]), String.format("%.0f-%.0f*%.0f*%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]-a[1]*a[2]/a[3]), String.format("%.0f-%.0f*%.0f/%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]/a[2]+a[3]), String.format("%.0f-%.0f/%.0f+%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]/a[2]-a[3]), String.format("%.0f-%.0f/%.0f-%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]-a[1]/a[2]*a[3]), String.format("%.0f-%.0f/%.0f*%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]/a[2]/a[3]), String.format("%.0f-%.0f/%.0f/%.0f", a[0],a[1],a[2],a[3])); 
        
        hashMap.put(Math.round(a[0]*a[1]+a[2]+a[3]), String.format("%.0f*%.0f+%.0f+%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]+a[2]-a[3]), String.format("%.0f*%.0f+%.0f-%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]*a[1]+a[2]*a[3]), String.format("%.0f*%.0f+%.0f*%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]+a[2]/a[3]), String.format("%.0f*%.0f+%.0f/%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]-a[2]+a[3]), String.format("%.0f*%.0f-%.0f+%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]-a[2]-a[3]), String.format("%.0f*%.0f-%.0f-%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]*a[1]-a[2]*a[3]), String.format("%.0f*%.0f-%.0f*%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]-a[2]/a[3]), String.format("%.0f*%.0f-%.0f/%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]*a[2]+a[3]), String.format("%.0f*%.0f*%.0f+%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]*a[2]-a[3]), String.format("%.0f*%.0f*%.0f-%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]*a[1]*a[2]*a[3]), String.format("%.0f*%.0f*%.0f*%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]*a[2]/a[3]), String.format("%.0f*%.0f*%.0f/%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]/a[2]+a[3]), String.format("%.0f*%.0f/%.0f+%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]/a[2]-a[3]), String.format("%.0f*%.0f/%.0f-%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]*a[1]/a[2]*a[3]), String.format("%.0f*%.0f/%.0f*%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]/a[2]/a[3]), String.format("%.0f*%.0f/%.0f/%.0f", a[0],a[1],a[2],a[3]));
        
        hashMap.put(Math.round(a[0]/a[1]+a[2]+a[3]), String.format("%.0f/%.0f+%.0f+%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]+a[2]-a[3]), String.format("%.0f/%.0f+%.0f-%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]/a[1]+a[2]*a[3]), String.format("%.0f/%.0f+%.0f*%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]+a[2]/a[3]), String.format("%.0f/%.0f+%.0f/%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]-a[2]+a[3]), String.format("%.0f/%.0f-%.0f+%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]-a[2]-a[3]), String.format("%.0f/%.0f-%.0f-%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]/a[1]-a[2]*a[3]), String.format("%.0f/%.0f-%.0f*%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]-a[2]/a[3]), String.format("%.0f/%.0f-%.0f/%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]*a[2]+a[3]), String.format("%.0f/%.0f*%.0f+%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]*a[2]-a[3]), String.format("%.0f/%.0f*%.0f-%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]/a[1]*a[2]*a[3]), String.format("%.0f/%.0f*%.0f*%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]*a[2]/a[3]), String.format("%.0f/%.0f*%.0f/%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]/a[2]+a[3]), String.format("%.0f/%.0f/%.0f+%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]/a[2]-a[3]), String.format("%.0f/%.0f/%.0f-%.0f", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]/a[1]/a[2]*a[3]), String.format("%.0f/%.0f/%.0f*%.0f", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]/a[2]/a[3]), String.format("%.0f/%.0f/%.0f/%.0f", a[0],a[1],a[2],a[3]));
    
    
    // b-combination a[0]_a[1]_(a[2]_a[3])
        hashMap.put(Math.round(a[0]+a[1]+(a[2]+a[3])), String.format("%.0f+%.0f+(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]+(a[2]-a[3])), String.format("%.0f+%.0f+(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+a[1]+(a[2]*a[3])), String.format("%.0f+%.0f+(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]+(a[2]/a[3])), String.format("%.0f+%.0f+(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]-(a[2]+a[3])), String.format("%.0f+%.0f-(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]-(a[2]-a[3])), String.format("%.0f+%.0f-(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+a[1]-(a[2]*a[3])), String.format("%.0f+%.0f-(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]-(a[2]/a[3])), String.format("%.0f+%.0f-(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]*(a[2]+a[3])), String.format("%.0f+%.0f*(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]*(a[2]-a[3])), String.format("%.0f+%.0f*(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+a[1]*(a[2]*a[3])), String.format("%.0f+%.0f*(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]*(a[2]/a[3])), String.format("%.0f+%.0f*(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]/(a[2]+a[3])), String.format("%.0f+%.0f/(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]/(a[2]-a[3])), String.format("%.0f+%.0f/(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+a[1]/(a[2]*a[3])), String.format("%.0f+%.0f/(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+a[1]/(a[2]/a[3])), String.format("%.0f+%.0f/(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
    
        hashMap.put(Math.round(a[0]-a[1]+(a[2]+a[3])), String.format("%.0f-%.0f+(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]+(a[2]-a[3])), String.format("%.0f-%.0f+(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]-a[1]+(a[2]*a[3])), String.format("%.0f-%.0f+(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]+(a[2]/a[3])), String.format("%.0f-%.0f+(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]-(a[2]+a[3])), String.format("%.0f-%.0f-(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]-(a[2]-a[3])), String.format("%.0f-%.0f-(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]-a[1]-(a[2]*a[3])), String.format("%.0f-%.0f-(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]-(a[2]/a[3])), String.format("%.0f-%.0f-(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]*(a[2]+a[3])), String.format("%.0f-%.0f*(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]*(a[2]-a[3])), String.format("%.0f-%.0f*(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]-a[1]*(a[2]*a[3])), String.format("%.0f-%.0f*(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]*(a[2]/a[3])), String.format("%.0f-%.0f*(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]/(a[2]+a[3])), String.format("%.0f-%.0f/(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]/(a[2]-a[3])), String.format("%.0f-%.0f/(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]-a[1]/(a[2]*a[3])), String.format("%.0f-%.0f/(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-a[1]/(a[2]/a[3])), String.format("%.0f-%.0f/(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
    
        hashMap.put(Math.round(a[0]*a[1]+(a[2]+a[3])), String.format("%.0f*%.0f+(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]+(a[2]-a[3])), String.format("%.0f*%.0f+(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]*a[1]+(a[2]*a[3])), String.format("%.0f*%.0f+(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]+(a[2]/a[3])), String.format("%.0f*%.0f+(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]-(a[2]+a[3])), String.format("%.0f*%.0f-(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]-(a[2]-a[3])), String.format("%.0f*%.0f-(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]*a[1]-(a[2]*a[3])), String.format("%.0f*%.0f-(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]-(a[2]/a[3])), String.format("%.0f*%.0f-(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]*(a[2]+a[3])), String.format("%.0f*%.0f*(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]*(a[2]-a[3])), String.format("%.0f*%.0f*(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]*a[1]*(a[2]*a[3])), String.format("%.0f*%.0f*(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]*(a[2]/a[3])), String.format("%.0f*%.0f*(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]/(a[2]+a[3])), String.format("%.0f*%.0f/(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]/(a[2]-a[3])), String.format("%.0f*%.0f/(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]*a[1]/(a[2]*a[3])), String.format("%.0f*%.0f/(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*a[1]/(a[2]/a[3])), String.format("%.0f*%.0f/(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
    
        hashMap.put(Math.round(a[0]/a[1]+(a[2]+a[3])), String.format("%.0f/%.0f+(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]+(a[2]-a[3])), String.format("%.0f/%.0f+(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]/a[1]+(a[2]*a[3])), String.format("%.0f/%.0f+(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]+(a[2]/a[3])), String.format("%.0f/%.0f+(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]-(a[2]+a[3])), String.format("%.0f/%.0f-(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]-(a[2]-a[3])), String.format("%.0f/%.0f-(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]/a[1]-(a[2]*a[3])), String.format("%.0f/%.0f-(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]-(a[2]/a[3])), String.format("%.0f/%.0f-(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]*(a[2]+a[3])), String.format("%.0f/%.0f*(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]*(a[2]-a[3])), String.format("%.0f/%.0f*(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]/a[1]*(a[2]*a[3])), String.format("%.0f/%.0f*(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]*(a[2]/a[3])), String.format("%.0f/%.0f*(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]/(a[2]+a[3])), String.format("%.0f/%.0f/(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]/(a[2]-a[3])), String.format("%.0f/%.0f/(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]/a[1]/(a[2]*a[3])), String.format("%.0f/%.0f/(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/a[1]/(a[2]/a[3])), String.format("%.0f/%.0f/(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
    
    
    // c-combination (a[0]_a[1])_(a[2]_a[3])
        hashMap.put(Math.round((a[0]+a[1])+(a[2]+a[3])), String.format("(%.0f+%.0f)+(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]+a[1])+(a[2]-a[3])), String.format("(%.0f+%.0f)+(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round((a[0]+a[1])+(a[2]*a[3])), String.format("(%.0f+%.0f)+(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]+a[1])+(a[2]/a[3])), String.format("(%.0f+%.0f)+(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]+a[1])-(a[2]+a[3])), String.format("(%.0f+%.0f)-(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]+a[1])-(a[2]-a[3])), String.format("(%.0f+%.0f)-(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round((a[0]+a[1])-(a[2]*a[3])), String.format("(%.0f+%.0f)-(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]+a[1])-(a[2]/a[3])), String.format("(%.0f+%.0f)-(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]+a[1])*(a[2]+a[3])), String.format("(%.0f+%.0f)*(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]+a[1])*(a[2]-a[3])), String.format("(%.0f+%.0f)*(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round((a[0]+a[1])*(a[2]*a[3])), String.format("(%.0f+%.0f)*(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]+a[1])*(a[2]/a[3])), String.format("(%.0f+%.0f)*(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]+a[1])/(a[2]+a[3])), String.format("(%.0f+%.0f)/(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]+a[1])/(a[2]-a[3])), String.format("(%.0f+%.0f)/(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round((a[0]+a[1])/(a[2]*a[3])), String.format("(%.0f+%.0f)/(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]+a[1])/(a[2]/a[3])), String.format("(%.0f+%.0f)/(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
    
        hashMap.put(Math.round((a[0]-a[1])+(a[2]+a[3])), String.format("(%.0f-%.0f)+(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]-a[1])+(a[2]-a[3])), String.format("(%.0f-%.0f)+(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round((a[0]-a[1])+(a[2]*a[3])), String.format("(%.0f-%.0f)+(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]-a[1])+(a[2]/a[3])), String.format("(%.0f-%.0f)+(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]-a[1])-(a[2]+a[3])), String.format("(%.0f-%.0f)-(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]-a[1])-(a[2]-a[3])), String.format("(%.0f-%.0f)-(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round((a[0]-a[1])-(a[2]*a[3])), String.format("(%.0f-%.0f)-(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]-a[1])-(a[2]/a[3])), String.format("(%.0f-%.0f)-(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]-a[1])*(a[2]+a[3])), String.format("(%.0f-%.0f)*(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]-a[1])*(a[2]-a[3])), String.format("(%.0f-%.0f)*(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round((a[0]-a[1])*(a[2]*a[3])), String.format("(%.0f-%.0f)*(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]-a[1])*(a[2]/a[3])), String.format("(%.0f-%.0f)*(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]-a[1])/(a[2]+a[3])), String.format("(%.0f-%.0f)/(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]-a[1])/(a[2]-a[3])), String.format("(%.0f-%.0f)/(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round((a[0]-a[1])/(a[2]*a[3])), String.format("(%.0f-%.0f)/(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]-a[1])/(a[2]/a[3])), String.format("(%.0f-%.0f)/(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
    
        hashMap.put(Math.round((a[0]*a[1])+(a[2]+a[3])), String.format("(%.0f*%.0f)+(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]*a[1])+(a[2]-a[3])), String.format("(%.0f*%.0f)+(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round((a[0]*a[1])+(a[2]*a[3])), String.format("(%.0f*%.0f)+(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]*a[1])+(a[2]/a[3])), String.format("(%.0f*%.0f)+(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]*a[1])-(a[2]+a[3])), String.format("(%.0f*%.0f)-(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]*a[1])-(a[2]-a[3])), String.format("(%.0f*%.0f)-(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round((a[0]*a[1])-(a[2]*a[3])), String.format("(%.0f*%.0f)-(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]*a[1])-(a[2]/a[3])), String.format("(%.0f*%.0f)-(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]*a[1])*(a[2]+a[3])), String.format("(%.0f*%.0f)*(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]*a[1])*(a[2]-a[3])), String.format("(%.0f*%.0f)*(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round((a[0]*a[1])*(a[2]*a[3])), String.format("(%.0f*%.0f)*(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]*a[1])*(a[2]/a[3])), String.format("(%.0f*%.0f)*(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]*a[1])/(a[2]+a[3])), String.format("(%.0f*%.0f)/(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]*a[1])/(a[2]-a[3])), String.format("(%.0f*%.0f)/(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round((a[0]*a[1])/(a[2]*a[3])), String.format("(%.0f*%.0f)/(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]*a[1])/(a[2]/a[3])), String.format("(%.0f*%.0f)/(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
    
        hashMap.put(Math.round((a[0]/a[1])+(a[2]+a[3])), String.format("(%.0f/%.0f)+(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]/a[1])+(a[2]-a[3])), String.format("(%.0f/%.0f)+(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round((a[0]/a[1])+(a[2]*a[3])), String.format("(%.0f/%.0f)+(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]/a[1])+(a[2]/a[3])), String.format("(%.0f/%.0f)+(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]/a[1])-(a[2]+a[3])), String.format("(%.0f/%.0f)-(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]/a[1])-(a[2]-a[3])), String.format("(%.0f/%.0f)-(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round((a[0]/a[1])-(a[2]*a[3])), String.format("(%.0f/%.0f)-(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]/a[1])-(a[2]/a[3])), String.format("(%.0f/%.0f)-(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]/a[1])*(a[2]+a[3])), String.format("(%.0f/%.0f)*(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]/a[1])*(a[2]-a[3])), String.format("(%.0f/%.0f)*(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round((a[0]/a[1])*(a[2]*a[3])), String.format("(%.0f/%.0f)*(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]/a[1])*(a[2]/a[3])), String.format("(%.0f/%.0f)*(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]/a[1])/(a[2]+a[3])), String.format("(%.0f/%.0f)/(%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]/a[1])/(a[2]-a[3])), String.format("(%.0f/%.0f)/(%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round((a[0]/a[1])/(a[2]*a[3])), String.format("(%.0f/%.0f)/(%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round((a[0]/a[1])/(a[2]/a[3])), String.format("(%.0f/%.0f)/(%.0f/%.0f)", a[0],a[1],a[2],a[3]));
    
    
    // d-combination a[0]_(a[1]_a[2]_a[3])
        hashMap.put(Math.round(a[0]+(a[1]+a[2]+a[3])), String.format("%.0f+(%.0f+%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]+a[2]-a[3])), String.format("%.0f+(%.0f+%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+(a[1]+a[2]*a[3])), String.format("%.0f+(%.0f+%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]+a[2]/a[3])), String.format("%.0f+(%.0f+%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]-a[2]+a[3])), String.format("%.0f+(%.0f-%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]-a[2]-a[3])), String.format("%.0f+(%.0f-%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+(a[1]-a[2]*a[3])), String.format("%.0f+(%.0f-%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]-a[2]/a[3])), String.format("%.0f+(%.0f-%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]*a[2]+a[3])), String.format("%.0f+(%.0f*%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]*a[2]-a[3])), String.format("%.0f+(%.0f*%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+(a[1]*a[2]*a[3])), String.format("%.0f+(%.0f*%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]*a[2]/a[3])), String.format("%.0f+(%.0f*%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]/a[2]+a[3])), String.format("%.0f+(%.0f/%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]/a[2]-a[3])), String.format("%.0f+(%.0f/%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+(a[1]/a[2]*a[3])), String.format("%.0f+(%.0f/%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]/a[2]/a[3])), String.format("%.0f+(%.0f/%.0f/%.0f)", a[0],a[1],a[2],a[3]));
   
        hashMap.put(Math.round(a[0]-(a[1]+a[2]+a[3])), String.format("%.0f-(%.0f+%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]+a[2]-a[3])), String.format("%.0f-(%.0f+%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]-(a[1]+a[2]*a[3])), String.format("%.0f-(%.0f+%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]+a[2]/a[3])), String.format("%.0f-(%.0f+%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]-a[2]+a[3])), String.format("%.0f-(%.0f-%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]-a[2]-a[3])), String.format("%.0f-(%.0f-%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]-(a[1]-a[2]*a[3])), String.format("%.0f-(%.0f-%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]-a[2]/a[3])), String.format("%.0f-(%.0f-%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]*a[2]+a[3])), String.format("%.0f-(%.0f*%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]*a[2]-a[3])), String.format("%.0f-(%.0f*%.0f-%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]*a[2]*a[3])), String.format("%.0f-(%.0f*%.0f*%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]-(a[1]*a[2]/a[3])), String.format("%.0f-(%.0f*%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]/a[2]+a[3])), String.format("%.0f-(%.0f/%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]/a[2]-a[3])), String.format("%.0f-(%.0f/%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]-(a[1]/a[2]*a[3])), String.format("%.0f-(%.0f/%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]/a[2]/a[3])), String.format("%.0f-(%.0f/%.0f/%.0f)", a[0],a[1],a[2],a[3])); 
   
        hashMap.put(Math.round(a[0]*(a[1]+a[2]+a[3])), String.format("%.0f*(%.0f+%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]+a[2]-a[3])), String.format("%.0f*(%.0f+%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]*(a[1]+a[2]*a[3])), String.format("%.0f*(%.0f+%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]+a[2]/a[3])), String.format("%.0f*(%.0f+%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]-a[2]+a[3])), String.format("%.0f*(%.0f-%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]-a[2]-a[3])), String.format("%.0f*(%.0f-%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]*(a[1]-a[2]*a[3])), String.format("%.0f*(%.0f-%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]-a[2]/a[3])), String.format("%.0f*(%.0f-%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]*a[2]+a[3])), String.format("%.0f*(%.0f*%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]*a[2]-a[3])), String.format("%.0f*(%.0f*%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]*(a[1]*a[2]*a[3])), String.format("%.0f*(%.0f*%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]*a[2]/a[3])), String.format("%.0f*(%.0f*%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]/a[2]+a[3])), String.format("%.0f*(%.0f/%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]/a[2]-a[3])), String.format("%.0f*(%.0f/%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]*(a[1]/a[2]*a[3])), String.format("%.0f*(%.0f/%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]/a[2]/a[3])), String.format("%.0f*(%.0f/%.0f/%.0f)", a[0],a[1],a[2],a[3]));
    
        hashMap.put(Math.round(a[0]/(a[1]+a[2]+a[3])), String.format("%.0f/(%.0f+%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]+a[2]-a[3])), String.format("%.0f/(%.0f+%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]/(a[1]+a[2]*a[3])), String.format("%.0f/(%.0f+%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]+a[2]/a[3])), String.format("%.0f/(%.0f+%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]-a[2]+a[3])), String.format("%.0f/(%.0f-%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]-a[2]-a[3])), String.format("%.0f/(%.0f-%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]/(a[1]-a[2]*a[3])), String.format("%.0f/(%.0f-%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]-a[2]/a[3])), String.format("%.0f/(%.0f-%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]*a[2]+a[3])), String.format("%.0f/(%.0f*%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]*a[2]-a[3])), String.format("%.0f/(%.0f*%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]/(a[1]*a[2]*a[3])), String.format("%.0f/(%.0f*%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]*a[2]/a[3])), String.format("%.0f/(%.0f*%.0f/%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]/a[2]+a[3])), String.format("%.0f/(%.0f/%.0f+%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]/a[2]-a[3])), String.format("%.0f/(%.0f/%.0f-%.0f)", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]/(a[1]/a[2]*a[3])), String.format("%.0f/(%.0f/%.0f*%.0f)", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]/a[2]/a[3])), String.format("%.0f/(%.0f/%.0f/%.0f)", a[0],a[1],a[2],a[3]));
    
    
    // e-combination a[0]_(a[1]_(a[2]_a[3]))
        hashMap.put(Math.round(a[0]+(a[1]+(a[2]+a[3]))), String.format("%.0f+(%.0f+(%.0f+%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]+(a[2]-a[3]))), String.format("%.0f+(%.0f+(%.0f-%.0f))", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+(a[1]+(a[2]*a[3]))), String.format("%.0f+(%.0f+(%.0f*%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]+(a[2]/a[3]))), String.format("%.0f+(%.0f+(%.0f/%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]-(a[2]+a[3]))), String.format("%.0f+(%.0f-(%.0f+%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]-(a[2]-a[3]))), String.format("%.0f+(%.0f-(%.0f-%.0f))", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+(a[1]-(a[2]*a[3]))), String.format("%.0f+(%.0f-(%.0f*%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]-(a[2]/a[3]))), String.format("%.0f+(%.0f-(%.0f/%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]*(a[2]+a[3]))), String.format("%.0f+(%.0f*(%.0f+%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]*(a[2]-a[3]))), String.format("%.0f+(%.0f*(%.0f-%.0f))", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+(a[1]*(a[2]*a[3]))), String.format("%.0f+(%.0f*(%.0f*%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]*(a[2]/a[3]))), String.format("%.0f+(%.0f*(%.0f/%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]/(a[2]+a[3]))), String.format("%.0f+(%.0f/(%.0f+%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]/(a[2]-a[3]))), String.format("%.0f+(%.0f/(%.0f-%.0f))", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]+(a[1]/(a[2]*a[3]))), String.format("%.0f+(%.0f/(%.0f*%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]+(a[1]/(a[2]/a[3]))), String.format("%.0f+(%.0f/(%.0f/%.0f))", a[0],a[1],a[2],a[3]));
   
        hashMap.put(Math.round(a[0]-(a[1]+(a[2]+a[3]))), String.format("%.0f-(%.0f+(%.0f+%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]+(a[2]-a[3]))), String.format("%.0f-(%.0f+(%.0f-%.0f))", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]-(a[1]+(a[2]*a[3]))), String.format("%.0f-(%.0f+(%.0f*%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]+(a[2]/a[3]))), String.format("%.0f-(%.0f+(%.0f/%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]-(a[2]+a[3]))), String.format("%.0f-(%.0f-(%.0f+%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]-(a[2]-a[3]))), String.format("%.0f-(%.0f-(%.0f-%.0f))", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]-(a[1]-(a[2]*a[3]))), String.format("%.0f-(%.0f-(%.0f*%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]-(a[2]/a[3]))), String.format("%.0f-(%.0f-(%.0f/%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]*(a[2]+a[3]))), String.format("%.0f-(%.0f*(%.0f+%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]*(a[2]-a[3]))), String.format("%.0f-(%.0f*(%.0f-%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]*(a[2]*a[3]))), String.format("%.0f-(%.0f*(%.0f*%.0f))", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]-(a[1]*(a[2]/a[3]))), String.format("%.0f-(%.0f*(%.0f/%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]/(a[2]+a[3]))), String.format("%.0f-(%.0f/(%.0f+%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]/(a[2]-a[3]))), String.format("%.0f-(%.0f/(%.0f-%.0f))", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]-(a[1]/(a[2]*a[3]))), String.format("%.0f-(%.0f/(%.0f*%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]-(a[1]/(a[2]/a[3]))), String.format("%.0f-(%.0f/(%.0f/%.0f))", a[0],a[1],a[2],a[3])); 
   
        hashMap.put(Math.round(a[0]*(a[1]+(a[2]+a[3]))), String.format("%.0f*(%.0f+(%.0f+%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]+(a[2]-a[3]))), String.format("%.0f*(%.0f+(%.0f-%.0f))", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]*(a[1]+(a[2]*a[3]))), String.format("%.0f*(%.0f+(%.0f*%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]+(a[2]/a[3]))), String.format("%.0f*(%.0f+(%.0f/%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]-(a[2]+a[3]))), String.format("%.0f*(%.0f-(%.0f+%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]-(a[2]-a[3]))), String.format("%.0f*(%.0f-(%.0f-%.0f))", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]*(a[1]-(a[2]*a[3]))), String.format("%.0f*(%.0f-(%.0f*%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]-(a[2]/a[3]))), String.format("%.0f*(%.0f-(%.0f/%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]*(a[2]+a[3]))), String.format("%.0f*(%.0f*(%.0f+%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]*(a[2]-a[3]))), String.format("%.0f*(%.0f*(%.0f-%.0f))", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]*(a[1]*(a[2]*a[3]))), String.format("%.0f*(%.0f*(%.0f*%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]*(a[2]/a[3]))), String.format("%.0f*(%.0f*(%.0f/%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]/(a[2]+a[3]))), String.format("%.0f*(%.0f/(%.0f+%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]/(a[2]-a[3]))), String.format("%.0f*(%.0f/(%.0f-%.0f))", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]*(a[1]/(a[2]*a[3]))), String.format("%.0f*(%.0f/(%.0f*%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]*(a[1]/(a[2]/a[3]))), String.format("%.0f*(%.0f/(%.0f/%.0f))", a[0],a[1],a[2],a[3]));
    
        hashMap.put(Math.round(a[0]/(a[1]+(a[2]+a[3]))), String.format("%.0f/(%.0f+(%.0f+%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]+(a[2]-a[3]))), String.format("%.0f/(%.0f+(%.0f-%.0f))", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]/(a[1]+(a[2]*a[3]))), String.format("%.0f/(%.0f+(%.0f*%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]+(a[2]/a[3]))), String.format("%.0f/(%.0f+(%.0f/%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]-(a[2]+a[3]))), String.format("%.0f/(%.0f-(%.0f+%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]-(a[2]-a[3]))), String.format("%.0f/(%.0f-(%.0f-%.0f))", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]/(a[1]-(a[2]*a[3]))), String.format("%.0f/(%.0f-(%.0f*%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]-(a[2]/a[3]))), String.format("%.0f/(%.0f-(%.0f/%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]*(a[2]+a[3]))), String.format("%.0f/(%.0f*(%.0f+%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]*(a[2]-a[3]))), String.format("%.0f/(%.0f*(%.0f-%.0f))", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]/(a[1]*(a[2]*a[3]))), String.format("%.0f/(%.0f*(%.0f*%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]*(a[2]/a[3]))), String.format("%.0f/(%.0f*(%.0f/%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]/(a[2]+a[3]))), String.format("%.0f/(%.0f/(%.0f+%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]/(a[2]-a[3]))), String.format("%.0f/(%.0f/(%.0f-%.0f))", a[0],a[1],a[2],a[3])); 
        hashMap.put(Math.round(a[0]/(a[1]/(a[2]*a[3]))), String.format("%.0f/(%.0f/(%.0f*%.0f))", a[0],a[1],a[2],a[3]));
        hashMap.put(Math.round(a[0]/(a[1]/(a[2]/a[3]))), String.format("%.0f/(%.0f/(%.0f/%.0f))", a[0],a[1],a[2],a[3]));
        
        
        
        for (Integer key : hashMap.keySet()) {
            if (key==p) {
                form = hashMap.get(key);
            }
        }
        return form;
    
    } 
}
